<html>
  <head>
    <style>
      body {
        margin: 0;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <canvas id="canvas"></canvas>
  </body>
    <script>
      (() => {
        const body = document.getElementsByTagName('body')[0];
        const canvas = document.getElementById('canvas');
        const onResize = function() {
          let height = body.clientHeight - 2;
          let width = body.clientWidth - 2;

          if (width > height / 3 * 4) width = height / 3 * 4;
          else if (height > width / 4 * 3) height = width / 4 * 3;

          canvas.height = height;
          canvas.width = width;
        };
        window.addEventListener("resize", onResize);
        onResize();
      })();
    </script>
    <script>{% script %}</script>
</html>